<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cancel Culture Quiz</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Helvetica Neue', Arial, sans-serif; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); color: #fff; padding: 20px; min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; background: #000; border: 3px solid #fff; padding: 40px; }
        .header { text-align: center; margin-bottom: 40px; border-bottom: 3px solid #fff; padding-bottom: 20px; }
        .header h1 { font-size: 2.5em; font-weight: 900; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 10px; }
        .header p { font-size: 1.1em; color: #ccc; }
        .progress-bar { width: 100%; height: 8px; background: #333; margin-bottom: 30px; border: 1px solid #666; }
        .progress-fill { height: 100%; background: #fff; transition: width 0.3s ease; }
        .quiz-section { margin-bottom: 40px; display: none; }
        .quiz-section.active { display: block; }
        .question-number { font-size: 0.9em; color: #999; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; }
        .question-title { font-size: 1.8em; font-weight: 900; margin-bottom: 25px; line-height: 1.3; }
        .question-category { display: inline-block; background: #fff; color: #000; padding: 5px 15px; font-size: 0.85em; font-weight: bold; text-transform: uppercase; margin-bottom: 15px; letter-spacing: 1px; }
        .options { display: flex; flex-direction: column; gap: 15px; margin-bottom: 30px; }
        .option { background: #111; border: 2px solid #666; padding: 15px 20px; cursor: pointer; transition: all 0.3s ease; font-size: 1.05em; }
        .option:hover { border-color: #fff; background: #222; }
        .option input[type="radio"] { margin-right: 15px; cursor: pointer; width: 18px; height: 18px; }
        .option label { cursor: pointer; display: flex; align-items: center; width: 100%; }
        .option.selected { border-color: #fff; background: #222; }
        .feedback { background: #111; border-left: 4px solid #999; padding: 20px; margin-top: 20px; font-size: 1em; line-height: 1.6; display: none; }
        .feedback.show { display: block; }
        .feedback.correct { border-left-color: #00ff00; background: #001a00; }
        .feedback.incorrect { border-left-color: #ff0000; background: #1a0000; }
        .feedback-title { font-weight: bold; margin-bottom: 10px; text-transform: uppercase; font-size: 0.9em; }
        .button-group { display: flex; gap: 15px; margin-top: 30px; justify-content: space-between; }
        button { background: #fff; color: #000; border: none; padding: 12px 30px; font-size: 1em; font-weight: bold; cursor: pointer; text-transform: uppercase; letter-spacing: 1px; transition: all 0.3s ease; }
        button:hover { background: #000; color: #fff; border: 2px solid #fff; }
        .results-screen { display: none; text-align: center; }
        .results-screen.show { display: block; }
        .score { font-size: 4em; font-weight: 900; margin: 30px 0; }
        .score.excellent { color: #00ff00; }
        .score.good { color: #ffff00; }
        .score.fair { color: #ff8800; }
        .score.poor { color: #ff0000; }
        .results-message { font-size: 1.5em; margin-bottom: 30px; line-height: 1.6; }
        .results-breakdown { background: #111; border: 2px solid #666; padding: 20px; margin: 30px 0; text-align: left; }
        .breakdown-item { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #333; }
        .breakdown-item:last-child { border-bottom: none; }
        .restart-btn { background: #fff; color: #000; padding: 15px 40px; font-size: 1.1em; }
        .open-response { width: 100%; min-height: 120px; padding: 15px; background: #111; border: 2px solid #666; color: #fff; font-family: inherit; font-size: 1em; resize: vertical; }
        .open-response:focus { outline: none; border-color: #fff; background: #222; }
        .char-count { font-size: 0.9em; color: #999; margin-top: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Cancel Culture Quiz</h1>
            <p>The Cancel Culture Paradox: Accountability vs. Mob Rule</p>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <!-- Q1 - Correct: B -->
        <div class="quiz-section active" data-question="1">
            <div class="question-number">Question 1 of 15</div>
            <div class="question-category">Comprehension</div>
            <div class="question-title">What is "cancel culture"?</div>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q1" value="a">
                        <span>A movement to promote all public figures regardless of their actions.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q1" value="b">
                        <span>The practice of withdrawing support from public figures or brands due to controversial statements or actions.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q1" value="c">
                        <span>A legal system for punishing criminals.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q1" value="d">
                        <span>A television show about accountability.</span>
                    </label>
                </div>
            </div>
            <div class="feedback" id="feedback1">
                <div class="feedback-title">Explanation</div>
                <p>Cancel culture refers to the collective action of withdrawing support from public figures or organizations perceived to have acted inappropriately or offensively.</p>
            </div>
        </div>

        <!-- Q2 - Correct: C -->
        <div class="quiz-section" data-question="2">
            <div class="question-number">Question 2 of 15</div>
            <div class="question-category">Vocabulary</div>
            <div class="question-title">What does "accountability" mean in this context?</div>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q2" value="a">
                        <span>A financial term used in business.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q2" value="b">
                        <span>A type of social media platform.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q2" value="c">
                        <span>The responsibility to answer for one's actions and face consequences.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q2" value="d">
                        <span>The ability to count numbers.</span>
                    </label>
                </div>
            </div>
            <div class="feedback" id="feedback2">
                <div class="feedback-title">Explanation</div>
                <p>Accountability means being responsible for one's actions and accepting consequences. In the cancel culture debate, it's central to arguments about justice and responsibility.</p>
            </div>
        </div>

        <!-- Q3 - Correct: D -->
        <div class="quiz-section" data-question="3">
            <div class="question-number">Question 3 of 15</div>
            <div class="question-category">Grammar: Inversion</div>
            <div class="question-title">Which sentence uses correct inversion?</div>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q3" value="a">
                        <span>Never we have seen such swift public shaming.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q3" value="b">
                        <span>Under no circumstances people should judge without evidence.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q3" value="c">
                        <span>Rarely a person has been given a second chance in cancel culture.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q3" value="d">
                        <span>Rarely have people been given a second chance in cancel culture.</span>
                    </label>
                </div>
            </div>
            <div class="feedback" id="feedback3">
                <div class="feedback-title">Explanation</div>
                <p>Correct inversion: "Rarely have people been..." The auxiliary verb comes before the subject. This structure adds emphasis and is used in formal, academic writing.</p>
            </div>
        </div>

        <!-- Q4 - Correct: A -->
        <div class="quiz-section" data-question="4">
            <div class="question-number">Question 4 of 15</div>
            <div class="question-category">Grammar: Conditionals</div>
            <div class="question-title">Complete: "Had he not apologized immediately, ___"</div>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q4" value="a">
                        <span>the backlash would have been much worse.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q4" value="b">
                        <span>the backlash will be much worse.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q4" value="c">
                        <span>the backlash would be much worse.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q4" value="d">
                        <span>the backlash is much worse.</span>
                    </label>
                </div>
            </div>
            <div class="feedback" id="feedback4">
                <div class="feedback-title">Explanation</div>
                <p>Third conditional: "Had he not apologized (past), the backlash would have been worse (past result)." This structure speculates about hypothetical past events.</p>
            </div>
        </div>

        <!-- Q5 - Correct: B -->
        <div class="quiz-section" data-question="5">
            <div class="question-number">Question 5 of 15</div>
            <div class="question-category">Comprehension</div>
            <div class="question-title">What is the main paradox of cancel culture?</div>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q5" value="a">
                        <span>It only affects celebrities, not ordinary people.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q5" value="b">
                        <span>It aims for accountability but can become mob rule and disproportionate punishment.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q5" value="c">
                        <span>It is universally supported by all people.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q5" value="d">
                        <span>It has no negative consequences for anyone.</span>
                    </label>
                </div>
            </div>
            <div class="feedback" id="feedback5">
                <div class="feedback-title">Explanation</div>
                <p>The paradox: cancel culture claims to seek accountability, but it can result in disproportionate punishment, lack of due process, and permanent damage to reputations.</p>
            </div>
        </div>

        <!-- Q6 - Correct: D -->
        <div class="quiz-section" data-question="6">
            <div class="question-number">Question 6 of 15</div>
            <div class="question-category">Vocabulary</div>
            <div class="question-title">What does "due process" mean?</div>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q6" value="a">
                        <span>A method of canceling someone online.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q6" value="b">
                        <span>A type of social media trend.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q6" value="c">
                        <span>A business procedure.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q6" value="d">
                        <span>The legal right to fair treatment and proper procedures before punishment.</span>
                    </label>
                </div>
            </div>
            <div class="feedback" id="feedback6">
                <div class="feedback-title">Explanation</div>
                <p>Due process ensures fair treatment: the right to be heard, to present evidence, and to have proportionate consequences. Cancel culture often bypasses these protections.</p>
            </div>
        </div>

        <!-- Q7 - Correct: C -->
        <div class="quiz-section" data-question="7">
            <div class="question-number">Question 7 of 15</div>
            <div class="question-category">Grammar: Conditionals</div>
            <div class="question-title">Complete: "If social media companies regulated hate speech more strictly, ___"</div>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q7" value="a">
                        <span>cancel culture would not have existed.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q7" value="b">
                        <span>cancel culture will be reduced.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q7" value="c">
                        <span>cancel culture would be less prevalent.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q7" value="d">
                        <span>cancel culture would have been less prevalent.</span>
                    </label>
                </div>
            </div>
            <div class="feedback" id="feedback7">
                <div class="feedback-title">Explanation</div>
                <p>Second conditional: "If they regulated (present hypothetical), cancel culture would be less prevalent (present result)." This speculates about current/future possibilities.</p>
            </div>
        </div>

        <!-- Q8 - Correct: B -->
        <div class="quiz-section" data-question="8">
            <div class="question-number">Question 8 of 15</div>
            <div class="question-category">Vocabulary</div>
            <div class="question-title">What does "redemption" mean in the context of cancel culture?</div>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q8" value="a">
                        <span>A financial term for exchanging coupons.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q8" value="b">
                        <span>The opportunity to be forgiven and restore one's reputation after wrongdoing.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q8" value="c">
                        <span>A type of social media post.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q8" value="d">
                        <span>A legal punishment.</span>
                    </label>
                </div>
            </div>
            <div class="feedback" id="feedback8">
                <div class="feedback-title">Explanation</div>
                <p>Redemption is the possibility of being forgiven and rebuilding one's reputation. Cancel culture critics argue that it denies people this opportunity.</p>
            </div>
        </div>

        <!-- Q9 - Correct: B -->
        <div class="quiz-section" data-question="9">
            <div class="question-number">Question 9 of 15</div>
            <div class="question-category">Critical Thinking</div>
            <div class="question-title">Can cancel culture be justified?</div>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q9" value="a">
                        <span>No, people should never face consequences for their actions.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q9" value="b">
                        <span>In some cases, yes—when it holds powerful people accountable. But it becomes problematic when it's disproportionate or lacks evidence.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q9" value="c">
                        <span>Yes, always. Everyone should be canceled for any mistake.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q9" value="d">
                        <span>Only celebrities should be canceled, not ordinary people.</span>
                    </label>
                </div>
            </div>
            <div class="feedback" id="feedback9">
                <div class="feedback-title">Explanation</div>
                <p>The nuanced answer: accountability is important, but cancel culture becomes problematic when it's disproportionate, lacks due process, or denies redemption.</p>
            </div>
        </div>

        <!-- Q10 - Correct: C -->
        <div class="quiz-section" data-question="10">
            <div class="question-number">Question 10 of 15</div>
            <div class="question-category">Grammar: Inversion</div>
            <div class="question-title">Which sentence is correctly inverted?</div>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q10" value="a">
                        <span>Under no circumstances we should judge people without hearing their side.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q10" value="b">
                        <span>Under no circumstances we judge people without hearing their side.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q10" value="c">
                        <span>Under no circumstances should we judge people without hearing their side.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q10" value="d">
                        <span>Under no circumstances should we judging people without hearing their side.</span>
                    </label>
                </div>
            </div>
            <div class="feedback" id="feedback10">
                <div class="feedback-title">Explanation</div>
                <p>Correct inversion with "Under no circumstances": the modal verb "should" comes before the subject "we." This emphasizes the importance of the statement.</p>
            </div>
        </div>

        <!-- Q11 - Correct: B -->
        <div class="quiz-section" data-question="11">
            <div class="question-number">Question 11 of 15</div>
            <div class="question-category">Comprehension</div>
            <div class="question-title">What is the difference between accountability and punishment in cancel culture?</div>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q11" value="a">
                        <span>Punishment is always fair, while accountability is subjective.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q11" value="b">
                        <span>Accountability involves acknowledging wrongdoing and making amends; punishment is often disproportionate and permanent.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q11" value="c">
                        <span>There is no difference; they are the same thing.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q11" value="d">
                        <span>Accountability only applies to celebrities.</span>
                    </label>
                </div>
            </div>
            <div class="feedback" id="feedback11">
                <div class="feedback-title">Explanation</div>
                <p>Accountability: acknowledging harm and making amends. Punishment: often disproportionate, permanent, and without opportunity for redemption. Cancel culture conflates the two.</p>
            </div>
        </div>

        <!-- Q12 - Correct: A -->
        <div class="quiz-section" data-question="12">
            <div class="question-number">Question 12 of 15</div>
            <div class="question-category">Vocabulary</div>
            <div class="question-title">What does "proportionality" mean in this debate?</div>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q12" value="a">
                        <span>The idea that punishment should match the severity of the wrongdoing.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q12" value="b">
                        <span>A mathematical concept unrelated to justice.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q12" value="c">
                        <span>A type of social media algorithm.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q12" value="d">
                        <span>The number of people involved in canceling someone.</span>
                    </label>
                </div>
            </div>
            <div class="feedback" id="feedback12">
                <div class="feedback-title">Explanation</div>
                <p>Proportionality: the principle that consequences should match the offense. A minor mistake shouldn't result in permanent career destruction.</p>
            </div>
        </div>

        <!-- Q13 - Correct: C -->
        <div class="quiz-section" data-question="13">
            <div class="question-number">Question 13 of 15</div>
            <div class="question-category">Grammar: Conditionals</div>
            <div class="question-title">Complete: "Unless people are given the chance to apologize and improve, ___"</div>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q13" value="a">
                        <span>society will benefit from cancel culture.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q13" value="b">
                        <span>cancel culture would have failed.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q13" value="c">
                        <span>society loses the opportunity for growth and forgiveness.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q13" value="d">
                        <span>people will always be canceled.</span>
                    </label>
                </div>
            </div>
            <div class="feedback" id="feedback13">
                <div class="feedback-title">Explanation</div>
                <p>"Unless" = "if not." Without redemption opportunities, society loses chances for growth and reconciliation. This reflects the concern about cancel culture's permanence.</p>
            </div>
        </div>

        <!-- Q14 - Correct: B -->
        <div class="quiz-section" data-question="14">
            <div class="question-number">Question 14 of 15</div>
            <div class="question-category">Critical Thinking</div>
            <div class="question-title">How should society balance accountability with compassion?</div>
            <div class="options">
                <div class="option">
                    <label>
                        <input type="radio" name="q14" value="a">
                        <span>By ignoring wrongdoing completely.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q14" value="b">
                        <span>By holding people accountable while allowing for redemption, context, and proportionate consequences.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q14" value="c">
                        <span>By canceling everyone equally.</span>
                    </label>
                </div>
                <div class="option">
                    <label>
                        <input type="radio" name="q14" value="d">
                        <span>By only holding celebrities accountable.</span>
                    </label>
                </div>
            </div>
            <div class="feedback" id="feedback14">
                <div class="feedback-title">Explanation</div>
                <p>The balanced approach: accountability (consequences for actions) + compassion (understanding context, allowing growth, enabling redemption). This is the middle ground in the debate.</p>
            </div>
        </div>

        <!-- Q15 - Open Response -->
        <div class="quiz-section" data-question="15">
            <div class="question-number">Question 15 of 15</div>
            <div class="question-category">Discussion</div>
            <div class="question-title">Do you think cancel culture is more helpful or harmful to society? Explain your reasoning.</div>
            <textarea class="open-response" id="q15" placeholder="Write your response here (minimum 50 characters)..."></textarea>
            <div class="char-count"><span id="charCount">0</span> characters</div>
            <div class="feedback" id="feedback15">
                <div class="feedback-title">Reflection</div>
                <p>Strong responses acknowledge nuance: recognizing both the value of accountability and the dangers of disproportionate punishment. Avoid absolute positions.</p>
            </div>
        </div>

        <!-- Results Screen -->
        <div class="results-screen" id="resultsScreen">
            <h2 style="font-size: 2em; margin-bottom: 20px;">Quiz Complete!</h2>
            <div class="score" id="scoreDisplay"></div>
            <div class="results-message" id="resultMessage"></div>
            <div class="results-breakdown">
                <div class="breakdown-item"><span>Comprehension Questions</span><span id="comprehensionScore">0/3</span></div>
                <div class="breakdown-item"><span>Vocabulary Questions</span><span id="vocabularyScore">0/4</span></div>
                <div class="breakdown-item"><span>Grammar Questions</span><span id="grammarScore">0/5</span></div>
                <div class="breakdown-item"><span>Critical Thinking Questions</span><span id="thinkingScore">0/2</span></div>
                <div class="breakdown-item"><span>Discussion (Open Response)</span><span id="discussionScore">Submitted</span></div>
            </div>
            <button class="restart-btn" onclick="location.reload()">Retake Quiz</button>
        </div>

        <!-- Navigation -->
        <div class="button-group" id="navigationButtons">
            <button id="prevBtn" onclick="previousQuestion()" style="visibility: hidden;">← Previous</button>
            <button id="nextBtn" onclick="nextQuestion()">Next →</button>
        </div>
    </div>

    <script>
        let currentQuestion = 1;
        const totalQuestions = 15;
        const correctAnswers = {
            q1: 'b', q2: 'c', q3: 'd', q4: 'a', q5: 'b',
            q6: 'd', q7: 'c', q8: 'b', q9: 'b', q10: 'c',
            q11: 'b', q12: 'a', q13: 'c', q14: 'b', q15: 'open'
        };

        const categoryScores = {
            comprehension: { questions: [1, 5, 11], correct: 0 },
            vocabulary: { questions: [2, 6, 8, 12], correct: 0 },
            grammar: { questions: [3, 4, 7, 10, 13], correct: 0 },
            thinking: { questions: [9, 14], correct: 0 },
            discussion: { questions: [15], correct: 0 }
        };

        function showQuestion(n) {
            const sections = document.querySelectorAll('.quiz-section');
            sections.forEach(section => section.classList.remove('active'));
            if (n > totalQuestions) n = totalQuestions;
            if (n < 1) n = 1;
            currentQuestion = n;
            document.querySelectorAll('.quiz-section')[n - 1].classList.add('active');
            const progress = (n / totalQuestions) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('prevBtn').style.visibility = n === 1 ? 'hidden' : 'visible';
            document.getElementById('nextBtn').textContent = n === totalQuestions ? 'Submit Quiz' : 'Next →';
            document.querySelectorAll('.feedback').forEach(f => f.classList.remove('show'));
            window.scrollTo(0, 0);
        }

        function nextQuestion() {
            if (currentQuestion === totalQuestions) submitQuiz();
            else showQuestion(currentQuestion + 1);
        }

        function previousQuestion() {
            showQuestion(currentQuestion - 1);
        }

        function submitQuiz() {
            let score = 0;
            for (let i = 1; i <= 14; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                if (selected && selected.value === correctAnswers[`q${i}`]) {
                    score++;
                    for (let category in categoryScores) {
                        if (categoryScores[category].questions.includes(i)) {
                            categoryScores[category].correct++;
                        }
                    }
                }
            }
            const openResponse = document.getElementById('q15').value;
            if (openResponse.length >= 50) categoryScores.discussion.correct = 1;
            displayResults(score);
        }

        function displayResults(score) {
            document.getElementById('navigationButtons').style.display = 'none';
            document.querySelectorAll('.quiz-section').forEach(s => s.style.display = 'none');
            document.getElementById('resultsScreen').classList.add('show');
            const percentage = (score / 14) * 100;
            document.getElementById('scoreDisplay').textContent = `${score}/14`;
            let message = '', scoreClass = '';
            if (percentage >= 90) {
                message = 'Excellent! You have a nuanced understanding of the cancel culture debate.';
                scoreClass = 'excellent';
            } else if (percentage >= 75) {
                message = 'Good work! You grasp the main concepts. Review some grammar and vocabulary for deeper understanding.';
                scoreClass = 'good';
            } else if (percentage >= 60) {
                message = 'Fair attempt. Revisit the lesson, especially inversion and conditional structures.';
                scoreClass = 'fair';
            } else {
                message = 'Keep studying. Focus on comprehension and advanced grammar forms.';
                scoreClass = 'poor';
            }
            document.getElementById('scoreDisplay').className = scoreClass;
            document.getElementById('resultMessage').textContent = message;
            document.getElementById('comprehensionScore').textContent = `${categoryScores.comprehension.correct}/3`;
            document.getElementById('vocabularyScore').textContent = `${categoryScores.vocabulary.correct}/4`;
            document.getElementById('grammarScore').textContent = `${categoryScores.grammar.correct}/5`;
            document.getElementById('thinkingScore').textContent = `${categoryScores.thinking.correct}/2`;
        }

        document.getElementById('q15').addEventListener('input', function() {
            document.getElementById('charCount').textContent = this.value.length;
        });

        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                const input = this.querySelector('input');
                const questionNum = input.name;
                const questionIndex = parseInt(questionNum.substring(1));
                document.querySelectorAll(`input[name="${questionNum}"]`).forEach(radio => {
                    radio.parentElement.parentElement.classList.remove('selected');
                });
                this.classList.add('selected');
                const feedback = document.getElementById(`feedback${questionIndex}`);
                feedback.classList.add('show');
                if (input.value === correctAnswers[questionNum]) {
                    feedback.classList.add('correct');
                    feedback.classList.remove('incorrect');
                } else if (questionIndex !== 15) {
                    feedback.classList.add('incorrect');
                    feedback.classList.remove('correct');
                }
            });
        });

        showQuestion(1);
    </script>
</body>
</html>
